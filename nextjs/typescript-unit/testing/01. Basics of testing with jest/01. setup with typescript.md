## TypeScript unit testing
====================================

### setup jest + Typescript
---------------------------------------

### Step 1
```
# install dev dependencies
npm i -D jest ts-jest @types/jest typescript
npx ts-jest config:init
```

That creates a jest.config.js with TypeScript support.

```
const { createDefaultPreset } = require("ts-jest");

const tsJestTransformCfg = createDefaultPreset().transform;

/** @type {import("jest").Config} **/
module.exports = {
  testEnvironment: "node",
  transform: {
    ...tsJestTransformCfg,
  },
};
```

added sripts in package.json

```
{
  "devDependencies": {
    "@types/jest": "^30.0.0",
    "jest": "^30.2.0",
    "ts-jest": "^29.4.5",
    "typescript": "^5.9.3"
  }
}

```

Example:1:
----------------

E:\jest\practice\app\math.ts

```
export const add = (a: number, b: number): number => a+b;
```


D:\Testing\testing\02. practice\test\math.test.ts

```
import {add} from '../app/math';
describe('add', () => {
  it('should add two numbers correctly', () => {
    expect(add(2, 3)).toBe(5);
  });
});


```

In terminal:

PS D:\Testing> npm test

> test
> jest

ts-jest[config] (WARN) message TS151001: If you have issues related to imports, you should consider setting `esModuleInterop` to `true` in your TypeScript configuration file (usually `tsconfig.json`). See https://blogs.msdn.microsoft.com/typescript/2018/01/31/announcing-typescript-2-7/#easier-ecmascript-module-interoperability for more information.
 PASS  testing/02. practice/test/math.test.ts
  add
    √ should add two numbers correctly (7 ms)                                                                                                                   
                                                                                                                                                                
Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        2.803 s


Here we face little issue is we get warning :

So, we crate a file 

```
// tsconfig.json

{
  "compilerOptions": {
    "esModuleInterop": true,
    "module": "commonjs",
    "target": "es6",
    "strict": true
  }
}


```

then we get only 

PS D:\Testing> npm test

> test
> jest

 PASS  testing/02. practice/test/math.test.ts
  add
    √ should add two numbers correctly (2 ms)                                                                                                                
    √ should handle negative numbers                                                                                                                         
    √ should add zero correctly                                                                                                                              
    √ should minus vlaues                                                                                                                                    
    √ should multiply values (1 ms)                                                                                                                          
    √ should divide two numbers correctly (1 ms)                                                                                                             
    √ should handle division by zero (8 ms)                                                                                                                  
                                                                                                                                                             
Test Suites: 1 passed, 1 total                                                                                                                               
Tests:       7 passed, 7 total                                                                                                                               
Snapshots:   0 total
Time:        1.478 s, estimated 2 s
Ran all test suites.
PS D:\Testing> 