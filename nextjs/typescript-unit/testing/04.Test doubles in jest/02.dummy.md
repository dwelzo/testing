 **crystal clear** with a **step-by-step Jest + TypeScript example** showing what happens **with** and **without a test double (dummy)**.

---

## üí° What‚Äôs a ‚ÄúDummy‚Äù in Testing?

A **dummy** is the **simplest kind of test double** ‚Äî it‚Äôs **an object passed around but never actually used**.
It just **fills a parameter slot** so your code compiles or runs, but the dummy‚Äôs values are **irrelevant**.

> Example analogy: If a function needs a ‚Äúuser‚Äù object, but your test doesn‚Äôt care about it,
> you can pass a dummy (like `{}` or `null`) just to satisfy the parameter type.

---

## üß© Example Setup

Let‚Äôs say we have two files:

### 1Ô∏è‚É£ `emailService.ts`

```typescript
export class EmailService {
  sendEmail(to: string, subject: string, body: string) {
    console.log(`üìß Email sent to ${to}`);
  }
}
```

### 2Ô∏è‚É£ `userService.ts`

```typescript
import { EmailService } from "./emailService";

export class UserService {
  constructor(private emailService: EmailService) {}

  registerUser(name: string, email: string) {
    // Business logic...
    if (!email) throw new Error("Email required");

    // Notify user
    this.emailService.sendEmail(email, "Welcome!", `Hi ${name}, welcome!`);
    return `User ${name} registered`;
  }
}
```

---

## ‚ùå Without Dummy (Real Dependency)

### `userService.noDummy.test.ts`

```typescript
import { UserService } from "../app/userService";
import { EmailService } from "../app/emailService";

test("registerUser() without dummy ‚Äî sends a real email", () => {
  const emailService = new EmailService(); // real object
  const userService = new UserService(emailService);

  const result = userService.registerUser("Alice", "alice@example.com");
  expect(result).toBe("User Alice registered");
});
```

### üß† What Happens

* `EmailService.sendEmail()` actually runs and logs ‚Äúüìß Email sent to [alice@example.com](mailto:alice@example.com)‚Äù
* You can‚Äôt **verify** that it was called unless you spy on `console.log`.
* If `sendEmail()` made a real network call, your test would be **slow** or **break**.

This is a **bad test** ‚Äî it depends on **real external behavior**.

---

## ‚úÖ With Dummy (Test Double)

Let‚Äôs create a **dummy** `EmailService` that does nothing.

### `userService.dummy.test.ts`

```typescript
import { UserService } from "../app/userService";
import { EmailService } from "../app/emailService";

class DummyEmailService extends EmailService {
  sendEmail(to: string, subject: string, body: string) {
    // Do nothing ‚Äî dummy implementation
  }
}

test("registerUser() with dummy ‚Äî ignores email sending", () => {
  const dummyEmailService = new DummyEmailService();
  const userService = new UserService(dummyEmailService);

  const result = userService.registerUser("Bob", "bob@example.com");
  expect(result).toBe("User Bob registered");
});
```

### üß† What Happens Now

* The dummy replaces the real `EmailService`.
* `sendEmail()` does **nothing** ‚Äî no log, no network.
* The test **focuses only** on verifying user registration logic.

---

## üß™ Bonus: Dummy vs Mock

If you want to **verify** that `sendEmail()` was called,
then you‚Äôre no longer using a **dummy** ‚Äî you‚Äôre using a **mock**:

```typescript
test("registerUser() using mock to verify sendEmail call", () => {
  const mockEmailService = {
    sendEmail: jest.fn(),
  } as unknown as EmailService;

  const userService = new UserService(mockEmailService);
  userService.registerUser("Carol", "carol@example.com");

  expect(mockEmailService.sendEmail).toHaveBeenCalledWith(
    "carol@example.com",
    "Welcome!",
    expect.stringContaining("Carol")
  );
});
```

---

## üß≠ Summary Table

| Type      | Purpose                  | Example                           |
| --------- | ------------------------ | --------------------------------- |
| **Dummy** | Placeholder, not used    | `new DummyEmailService()`         |
| **Stub**  | Returns fixed data       | `jest.fn().mockReturnValue("ok")` |
| **Mock**  | Verifies interaction     | `expect(mock).toHaveBeenCalled()` |
| **Spy**   | Observes real object     | `jest.spyOn(obj, "method")`       |
| **Fake**  | Simplified real behavior | In-memory DB                      |

---

## üöÄ Key Takeaway

* ‚ùå Without dummy ‚Üí real code runs, may cause side effects.
* ‚úÖ With dummy ‚Üí isolates the logic under test, prevents unwanted actions.


