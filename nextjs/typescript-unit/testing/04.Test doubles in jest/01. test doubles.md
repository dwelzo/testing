# What Are Test Doubles?

- A test double is a stand-in (fake object or function) used in your tests instead of a real dependency.

- Think of it like a stunt double in movies 🎬
- They take the place of the “real actor” (your database, API, or complex class) during testing — so you can test in isolation, faster, and without side effects.

# Why We Use Test Doubles

When writing unit tests, you want to test one function or class at a time, not its dependencies.

So instead of calling:

-   a real database

-   a real API

-    a real file system

we use a test double that behaves the same for test purposes.

- Types of Test Doubles

```
| Type            | Purpose                                     | Example                                       | Typical Jest Tool             |
| --------------- | ------------------------------------------- | --------------------------------------------- | ----------------------------- |
| 🧍‍♂️ **Dummy** | Passed but never used (placeholder value)   | `const user = null;`                          | none (simple placeholder)     |
| 🧪 **Stub**     | Returns *fixed values*                      | Fake DB returning `{ id: 1, name: 'Mahesh' }` | `jest.fn().mockReturnValue()` |
| 🎭 **Mock**     | Simulates behavior & tracks calls           | Verify if `sendEmail()` was called            | `jest.fn()`, `jest.mock()`    |
| 🎥 **Spy**      | Wraps a real function but records its usage | Track how many times it’s called              | `jest.spyOn()`                |
| ⚙️ **Fake**     | Real implementation but simplified          | In-memory DB or fake timer                    | `jest.useFakeTimers()`        |
```

for dummy example is registerdummy.test.ts




# STUB — Fake a dependency that returns controlled data

- A stub replaces a real dependency (like a database or API)
and returns a fixed, predictable value instead of doing real work.


Goal: Test logic that depends on database results — without touching a real DB.

We’ll create:

  -  a fake database (db.ts)

  -  a service that uses it (userService.ts)

-   and a test that stubs the DB (userServiceStub.test.ts)